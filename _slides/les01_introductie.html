---
title: "Les 1: Introductie"
description: "Wat houdt het vak Microcontrollers juist in?"
reveal:
---
<section>
  <h1>Microcontrollers</h1>
  <h2>Algemene Introductie</h2>
</section>
<section> 
  <h2>Wat is een microcontroller</h2>
  <div class="hcontainer">
    <ul>
      <h4 class="fragment"><li>Een Integrated Circuit dat een computer systeem bevat.</li></h4>
      <h4 class="fragment"><li>Het is geen CPU maar het bevat er één</li></h4>
      <h4 class="fragment"><li>Tot op een zekere hoogte is een microcontroller "self-sustaining"</li></h4>
      <ul class="fragment">
        <li>Er zijn nog enkele randcomponenten nodig zoals een voeding, programmer, ...</li>
      </ul>
    </ul>
    <div class="vcontainer">
      <img style="height: 300px" src="img/atmega328p-pu.png" alt="">
      <img style="height: 300px; "src="img/layout_microcontroller.png" alt="">
    </div>
  </div>
</section>
<section>
  <h2>Dus we hebben hardware nodig?</h2>
  <ul>
    <h4 class="fragment"><li>We maken gebruiken van een ontwikkelingsplatform</li></h4>
    <ul>
      <h4 class="fragment"><li>Arduino</li></h4>
      <h4 class="fragment"><li>Specifiek: Arduino Nano</li></h4>
    </ul>
    <h4 class="fragment"><li>Je krijgt een uitleenkit met alle nodige materialen voor het labo</li></h4>
    <h4 class="fragment"><li>Een puur hardware vak?</li></h4>
    <ul>
      <h4 class="fragment"><li>Nee, een microcontroller heeft een specifieke functionaliteit die de nodige programmatie vereist</li></h4>
    </ul>
  </ul>
</section>
<section>
  <h2>Arduino .... Wat is dat? </h2>
  <ul>
    <li>Platform</li>
    <li>Hardware</li>
    <li>Software</li>
    <li>Resources</li>
  </ul>
</section>
<section>
  <h2>Arduino: Platform</h2>
  <ul>
    <h4><li>Fast electronics prototyping tool</li></h4>
    <h4><li>Doelpubliek: Designers / Elektronica leken</li></h4>
    <h4><li>Voorziet:</li></h4>
    <ul>
      <h4><li>Hardware</li></h4>
      <h4><li>Software</li></h4>
      <h4><li>IDE</li></h4>
      <h4><li>Documentatie</li></h4>
    </ul>
    <h4><li>Veel resources beschikbaar</li></h4>
  </ul>
  <img src="img/arduino_logo.png" style="float: right; width: 40%;" alt="">
</section>
<section>
  <h2>Arduino platform</h2>
    <ul>
      <h4><li>Voordelen</li></h4>
      <ul>
        <h4><li>Inexpensive</li></h4>
        <h4><li>Cross-Platform</li></h4>
        <h4><li>Simple, clear programming environment</li></h4>
        <h4><li>Open source and extensible software</li></h4>
        <h4><li>Open source and extensible hardware</li></h4>
      </ul>
    </ul>
  <img src="img/arduino_logo.png" style="float: right; width: 40%;" alt="">
</section>
<section>
  <h2>Arduino: Hardware</h2>
  <ul>
    <h4><li>Arduino Boards</li></h4>
    <h4><li>Boards zijn gebaseerd rond een microcontroller</li></h4>
    <ul>
      <h4><li>Remember: Arduino != Microcontroller</li></h4>
    </ul>
    <h4><li>Boards voorzien de nodige hardware om met de microcontroller te werken.</li></h4>
    <h4><li>Boards zijn uitbreidbaar met shields</li></h4>
    <h4><li>Verschillende boards met specifieke doelen.</li></h4>
  </ul>
  <img src="img/arduino_logo.png" style="float: right; width: 40%;" alt="">
</section>
<section>
  <h2>Arduino: Boards</h2>
  <h4></h4>
  <img src="img/arduino_boards.png" style="height: 600px;" alt="">
</section>
<section>
  <h2>Arduino: Uno</h2>
  <div style="float:left; "></div>
  <ol style="width: 45%;">
    <li>Reset switch</li>
    <li>USB B Connector:</li>
    <ul>
      <li>Connectie met PC</li>
      <li>Voedingsbron (5V)</li>
    </ul>
    <li>Barrel jack:</li>
    <ul>
      <li>Voedingsbron</li>
      <li>Input spanning 7V - 12V
    </ul>
    <li>Voltage regulator</li>
  </ol>
  <div style="float:right; width: 45%;">
    <img src="img/arduino_components.png" class="plain" style="background: none;" alt="">
  </div>
</section>
<section>
  <h2>Arduino: Uno</h2>
  <div style="float:left; "></div>
  <ol start="5" style="width: 45%;">
    <li>16MHz kristal</li>
    <li>ATMega8U2</li>
    <ul>
      <li>Hulp microcontroller</li>
      <li>USB naar UART bridge</li>
    </ul>
    <li>ATmega328p</li>
    <ul>
      <li>Hoofd microcontroller</li>
      <li>8 bit mcu</li>
      <li>AVR familie</li>
      <li>Brein van het Arduino board</li>
    </ul>
  </ol>
  <div style="float:right; width: 45%;">
    <img src="img/arduino_components.png" class="plain" style="background: none;" alt="">
  </div>
</section>
<section>
  <h2>Arduino: Uno</h2>
  <div style="float:left; "></div>
  <ol start="8" style="width: 45%;">
    <li>Digitale IO pinnen</li>
    <li>Analoge IO pinnen</li>
    <li>Voeding / ground / referentie spanningen</li>
  </ol>
  <div style="float:right; width: 45%;">
    <img src="img/arduino_components.png" class="plain" style="background: none;" alt="">
  </div>
</section>
<section>
  <h2>Arduino Uno vs Arduino Nano</h2>
  <div class="hcontainer">
    <img class="plain" style="background: none; width: 500px;" src="img/arduino_uno_board_top.png" alt="">
    <img class="plain" style="background: none; width: 500px;" src="img/arduino_nano_board.png" alt="">
    <div class="vcontainer" style="display: block; width: 400px; text-align: left;" >
      <h4 class="fragment">Wat zijn de verschillen</h4>
      <ul>
        <li class="fragment">Vormfactor</li>
        <li class="fragment">Power opties</li>
      </ul>
      <h4 class="fragment">Wat zijn de gelijkenissen </h4>
      <ul>
        <li class="fragment">De microcontroller (ATmega328p)</li>
        <li class="fragment">Pinout</li>
      </ul>
      <h4 class="fragment">Waarom</h4>
      <ul>
        <li class="fragment">Nano is makkelijk te gebruiken met een breadboard</li>
      </ul>

    </div>
  </div>
</section>
<section>
  <h2>Waar kunnen een microcontroller voor gebruiken ?</h2>
  <h1 class="fragment">Embedded Systemen</h1>
  <div class="hcontainer">
    <img class="fragment plain" style="background: none; height: 400px; "src="img/game_boy.png" alt="">
    <img class="fragment plain" style="background: none; height: 400px; "src="img/hearing_aid.png" alt="">
    <img class="fragment plain" style="background: none; height: 400px; "src="img/remote_control.png" alt="">
    <img class="fragment plain" style="background: none; height: 400px; "src="img/smart_light_bulb.png" alt="">
    <img class="fragment plain" style="background: none; height: 400px; "src="img/asset_tracker.png" alt="">
  </div>
</section>
<section>
  <h2>Systemen ....</h2>
  <h3 class="fragment">Een microcontroller is een stukje programeerbare hardware</h3>
  <h3 class="fragment">Op zijn eigen is de functionaliteit gelimiteerd dus zoeken we naar een input en out voor de microcontroller</h3>
  <h3 class="fragment">We hebben dus extra componenten nodig....</h3>
  <h3 class="fragment">We zoeken naar een "toetsenbord, muis en scherm" voor een microcontroller</h3>
  <h3 class="fragment">We zoeken peripherals</h3>
</section>
<section>
  <h2>Arduino Peripherals</h2>
  <div class="hcontainer">
    <div class="vcontainer">
    <h4>Wat zijn peripherals</h4>
    <ul>
      <h4 class="fragment"><li>Hardware elementen</li></h4>
      <h4 class="fragment"><li>Koppelen extra functionaliteit aan Arduino</li></h4>
      <h4 class="fragment"><li>Actuators en Sensors</li></h4>
      <h4 class="fragment"><li>Nood aan randcompontenten</li></h4>
      <h4 class="fragment"><li>Opbouwen van schakeling</li></h4>
    </ul>
    </div>
    <div class="vcontainer">
      <h4 class="fragment">Voorbeelden</h4>
      <ul>
        <div class="hcontainer fragment">
          <h4><li style="width: 500px;">7 segment 4 digit display</li></h4>
          <img class="plain" style="height: 200px; background: none; "src="./img/7segment4d.png" alt="">
        </div>
        <div class="hcontainer fragment">
          <h4><li style="width: 500px;">Pushbutton</li></h4>
          <img class="plain" style="height: 200px; background: none; "src="./img/pushbutton_large.png" alt="">
        </div>
        <div class="hcontainer fragment">
          <h4><li style="width: 500px;">Ultrasone Afstandsensor</li></h4>
          <img class="plain" style="height: 200px; background: none; "src="./img/hc-sr04.png" alt="">
        </div>
        <div class="hcontainer fragment">
          <h4><li style="width: 500px;">LCD 16x2</li></h4>
          <img class="plain" style="height: 200px; background: none; "src="./img/lcd16x2.png" alt="">
        </div>
      </ul>
    </div>
  </div>
</section>
<section>
  <h2>Arduino: Shields</h2>
  <div class="hcontainer">
    <ul>
      <h4 class="fragment"><li>Addons voor de boards</li></h4>
      <h4 class="fragment"><li>Extra functionaliteit</li></h4>
      <h4 class="fragment"><li>Complexere schakeling van Arduino Peripherals en andere elektronische componenten</li></h4>
      <ul>
        <h4 class="fragment"><li>Motorsturing</li></h4>
        <h4 class="fragment"><li>LCD</li></h4>
        <h4 class="fragment"><li>Communicatie</li></h4>
        <h4 class="fragment"><li><b>Protoboard</b></li></h4>
        <h4 class="fragment"><li>...</li></h4>
      </ul>
      <h4 class="fragment"><li>Standaard vorm factor</li></h4>
      <h4 class="fragment"><li>Ready To Use</li></h4>
      <h4 class="fragment"><li>Veel resources beschikbaar voor een eigen ontwerp</li></h4>
    </ul>
    <div class="vcontainer">
      <h4 class="fragment">Voorbeelden</h4>
      <ul>
        <div class="hcontainer fragment">
          <h4><li style="width: 500px;">Joystick Shield</li></h4>
          <img class="plain" style="height: 200px; background: none; "src="./img/joystick_shield.png" alt="">
        </div>
        <div class="hcontainer fragment">
          <h4><li style="width: 500px;">Protoshield</li></h4>
          <img class="plain" style="height: 200px; background: none; "src="./img/protoshield.png" alt="">
        </div>
        <div class="hcontainer fragment">
          <h4><li style="width: 500px;">Shieldstack</li></h4>
          <img class="plain" style="height: 200px; background: none; "src="./img/shield_stack.png" alt="">
        </div>
      </ul>
    </div>
  </div>
</section>
<section>
  <h2>Arduino Open Source Hardware</h2>
  <ul>
    <h4><li>Schematics zijn beschikbaar</li></h4>
    <h4><li>Veel klonen beschikbaar</li></h4>
    <h4><li>Goedkopere alternatieven </li></h4>
    <h4><li>Rechtstreeks bestellen uit China</li></h4>
  </ul>
  <img src="img/seeeduino.jpg" style="float: right; width: 40%;" alt="">
</section>
<section data-background-image="img/arduino_uno_schematic.jpg" data-background-size="contain" data-background-color="#ffffff">
</section>
<section>
  <h2>Wat gaan wij met een microcontroller doen?</h2>
  <h1 class="fragment">Wat zit er in de Microcontroller Kit ?</h1>
  <table class="fragment">
     <tr><td>CD4066E Quad Switch<td>Speakertje</td><td>Arduino Nano</td><td>CNY17-3 - Optocoupler</td></tr>
     <tr><td>23LC1024-I/P - SRAM</td><td>Rotary Encoder</td><td>LCD 16x2</td><td>ATtiny</td></tr>
     <tr><td>330R</td><td>1k</td><td>4k7</td><td>10k</td></tr>
     <tr><td>LED GEEL</td><td>LED ROOD</td><td>LED GROEN</td><td>Pushbutton</td></tr>
     <tr><td>7 Segment 4 Digit</td><td>Breadboard</td><td>10k trimmer</td><td>Afstandsensor Ultrasoon</td></tr>
     <tr><td>USB kabel</td><td>Breadboard kabels</td><td>Servo</td><td>BT module</td></tr>
     <tr><td>100 nf</td><td>1 uf</td><td>10 uf</td><td>2N7000</td></tr>
  </table>
</section>
<section>
  <h2>Wat gaan wij met een microcontroller doen?</h2>
  <h1>Mogelijke opdrachten</h1>
  <ul>
    <h4><li> Kennismaking met Kit, Oefeningen maken op gebruik van individuele componenten, Arduino as DUT </li></h4>
    <h4><li> Opdrachten met verschillende componenten te gelijk / Interrupts Maken van chronometer met 7 segment </li></h4>
    <h4><li> Werken met een ATtiny </li></h4>
    <h4><li> Seriële communicatie met een ATtiny (i2c)</li></h4>
    <h4><li> Mini Project: Maken van menu LCD met Rotary Encoder </li></h4>
  </ul>
</section>
<section>
  <h2>Arduino .... Wat is dat? </h2>
  <ul>
    <h4><li>Platform</li></h4>
    <h4><li>Hardware</li></h4>
    <h2><li>Software</li></h4>
    <h4><li>Resources</li></h4>
  </ul>
</section>
<section>
  <h2>Arduino: Software</h2>
  <ul>
    <h4><li>De microcontroller op een Arduino bord word in C/C++ geprogrammeerd</li></h4>
    <ul>
      <h4><li>Arduino is geen programeertaal</li></h4>
    </ul>
    <h4><li>Beschikbaar stellen van libraries</li></h4>
    <ul>
      <h4><li>Libraries zijn geschreven in C/C++</li></h4>
      <h4><li>Neemt abstractie van de hardware</li></h4>
        <ul>
          <h4><li>Code kan voor meerdere boards compileren</li></h4>
          <h4><li>Werking van de microcontroller is verstopt</li></h4>
        </ul>
      </ul>
    <h4><li>Gebaseerd op:</li></h4>
    <ul>
      <h4><li>Wiring</li></h4>
      <h4><li>Processing</li></h4>
      <h4><li>avr-libc</li></h4>
    </ul>
  </ul>
</section>
<section>
  <div class="vcontainer">
    <h3>Programmeren van een Arduino kan op 2 manieren</h3>
    <div class=hcontainer>
      <div class="fragment"style=" width: 700px;">
        <h3>Blink met de Arduinio libraries</h3>
        <pre><code style="height: 375px;" class="Arduinio">
#include &ltArduino.h&gt

void setup()
{
    pinMode(LED_BUILTIN, OUTPUT);
}

void loop()
{
    digitalWrite(LED_BUILTIN, HIGH);
    delay(1000);
    digitalWrite(LED_BUILTIN, LOW);
    delay(1000);
}
        </code></pre>
      </div>
      <div class="fragment" style="width: 700px">
        <h3>blink zonder Arduino libraries</h3>
        <pre><code style="height: 375px;"class="Arduino">
#include &ltavr/io.&gt
#include &ltutil/delay.h&gt

int main(void)
{
    DDRB = 1 &lt&lt 5;
    while (1)
    {
        _delay_ms(500);
        PORTB ^= 1 &lt&lt 5;
    }
  return 0;
}
        </code></pre>
      </div>
    </div>
  </div>
</section>
<section>
  <h2>Dit was het eerste deel van Microcontrollers</h2>
  <h1 class="fragment">Het vak is Microcontrollers niet Arduino</h1>
  <h4 class="fragment">Arduino is een simpele manier om met een microcontroller prototypes te maken</h4>
  <h4 class="fragment">Arduino's originele doelpubliek waren designers</h4>
  <h2 class="fragment">Als studenten Elektronica - ICT willen we weten hoe een microcontroller van binnen werkt </h2>
</section>
<section>
  <h2>Welke Microcontroller staat er op de Arduino Nano</h2>
  <h1 class="fragment">ATMega328p</h1>
</section>
<section>
  <h2>ATmega328p</h2>
  <ul style="float:left; width: 65%;">
    <h4><li>Lid van de AVR Microcontroller familie</li></h4>
    <ul>
      <h4><li>Ontworpen door Atmel</li></h4>
      <h4><li>8bit (bus breedte)</li></h4>
      <h4><li>Aangepaste harvard architectuur</li></h4>
      <h4><li>Flash memory ipv EEPROM</li></h4>
      <h4><li>Populair door makkelijk beschikbare tools en Arduino</li></h4>
    </ul>
  </ul>
  <img src="img/atmega328p-pu.png" class="plain" style="float: right; width: 30%; background: none;" alt="">
</section>
<section data-background-image="img/avr_block_diagram.png" data-background-size="contain" data-background-color="#ffffff">
</section>
<section>
  <h2>ATmega328p</h2>
  <ul style="float:left; width: 65%;">
    <h4><li>8bit mcu</li></h4>
    <h4><li>2 timers</li></h4>
    <h4><li>6 PWM kanalen</li></h4>
    <h4><li>8 kanaals 10bit adc </li></h4>
    <h4><li>6 kanaals 8bit adc </li></h4>
    <h4><li>UART</li></h4>
    <h4><li>SPI</li></h4>
    <h4><li>I²C</li></h4>
    <h4><li>Watchdog</li></h4>
    <h4><li>Comperator</li></h4>
    <h4><li>23 programmeerbare lijnen</li></h4>
  </ul>
  <img src="img/atmega328p-pu.png" class="plain" style="float: right; width: 30%; background: none;" alt="">
</section>
<section>
  <h2>ATmega Datasheet</h2>
  <ul>
    <li>Samenvatting</li>
    <li>Specificaties</li>
    <li>Functioneel blokdiagram</li>
    <li>Pinout</li>
    <li>Absolute maximale waardes</li>
    <li>Waarheidstabellen</li>
    <li>Timing diagrammen</li>
    <li>Mogelijke toepassingen</li>
    <li><a href="https://www.sparkfun.com/tutorials/223">Tutorial: Datasheets lezen</a></li>
    <li>FYI: Datasheets ATmega328p - 444 blz.</li>
  </ul>
  <p>
    <h3 class="fragment">Tegen het eind van het semester moet jullie dit documenten begrijpen en gebruiken om microcontroller toepassing te maken</h3>
  </p>
</section>
<section>
  <div class="vcontainer">
    <h3>Waarom?</h3>
    <div class=hcontainer>
      <div class="fragment"style=" width: 700px;">
        <h3>Blink met de Arduinio libraries</h3>
        <pre><code style="height: 375px;" class="Arduinio">
#include &ltArduino.h&gt

void setup()
{
    pinMode(LED_BUILTIN, OUTPUT);
}

void loop()
{
    digitalWrite(LED_BUILTIN, HIGH);
    delay(1000);
    digitalWrite(LED_BUILTIN, LOW);
    delay(1000);
}
        </code></pre>
        <p class="fragment">Compiled size: 1034 bytes (3.2%)</p>
      </div>
      <div class="fragment"style=" width: 700px;">
        <h3>blink zonder Arduino library</h3>
        <pre><code style="height: 375px;"class="Arduino">
#include &ltavr/io.&gt
#include &ltutil/delay.h&gt

int main(void)
{
    DDRB = 1 &lt&lt 5;
    while (1)
    {
        _delay_ms(500);
        PORTB ^= 1 &lt&lt 5;
    }
  return 0;
}
        </code></pre>
        <p class="fragment">Compiled size: 158 bytes (0.5%)</p>
      </div>
    </div>
  </div>
</section>
<section>
  <h2>De hardware kunnen we ook verkleinen</h2>
  <img src="img/barebone_arduino.png" alt="">
</section>
<section>
  <h2>Oplossing Mogelijk Vaardigheidsexamen</h2>
  <pre><code class="arduino">
enum states  {IDLE = 'i', SET = 's', GET = 'g', TOGGLE = 't', COMPARE = 'c'};
uint8_t set_value, last_adc_val;


volatile uint8_t state = IDLE;
uint8_t last_state = GET;


void setup() {
  Serial.begin(9600);
  ADMUX |= (1 << REFS0) | (1 << MUX2) | (1 << MUX0);
  ADCSRA |= (1 << ADPS2) | (1 << ADPS1) | (1 << ADPS0) | (1 << ADATE) | (1 << ADEN) | (1 << ADSC);

  DDRD |= (1 << DDD3);
  DDRB |= (1 << DDB1) | (1 << DDB2) | (1 << DDB3);

  EICRA |= ((1 << ISC10) | (1 << ISC11))  ;
  EIMSK |= (1 << INT1);

  TCCR0A = 0;
  TCCR0B = 0;
  TCCR1A = 0;
  TCCR1B = 0;

  TCCR1A |= (1 << WGM10) | (1 << WGM00) | (1 << COM1A1) | (1 << COM1B1);
  TCCR1B |= (1 << CS11) | (1 << CS10);

  TCCR2A |= (1 << WGM20) | (1 << COM0A1);
  TCCR2B |= (1 << CS22);
}

ISR(INT1_vect) {
  state = COMPARE;
}

void set_values() {
  Serial.print("Geef de  waarde in: ");
  set_value = Serial.parseInt();
  Serial.println(set_value);

}

void toggle() {
  EIMSK ^= (1 << INT1);
}

void compare() {
  int diff = set_value - ADC / 4;  
  if (diff < 0) {
    OCR2A = 0;
    OCR1AL = abs(diff);
  }
  if (diff > 0) {
    OCR1AL = 0;
    OCR2A = abs(diff);
  }
}


void loop() {
  if (Serial.available()) state = Serial.read();
  if (state != last_state) {
    switch (state) {
      case (IDLE):
        Serial.println("Entered Idle State");
        break;
      case (SET):
        set_values();
        break;
      case (GET):
        Serial.println("Current ADC value: ");
        Serial.println(ADC / 4);
        break;
      case (TOGGLE):
        toggle();
        break;
      case (COMPARE):
        compare();
        break;
    }
    last_state = state;
  }
  if (last_state != TOGGLE) OCR1BL = ADC / 4;

}
  </code></pre>
</section>
<section>
  <h2>Dit was de contextuele schetsing van het vak Microcontrollers</h2>
  <h1>Nu de praktische zaken</h1>
</section>
<section>
  <h2>Lesgevers</h2>
  <div class="vcontainer">
    <div class="hcontainer">
      <div class="vcontainer" style="width: 700px;">
        <h4>Geert Vanhulle</h4>
        <ul>
          <li>Labos in Module 1</li>
          <li>Theorie in Module 2</li>
          <li>geert.vanhulle@ap.be</li>
        </ul>

      </div>
      <div class="vcontainer" style="width: 700px;">
        <h4>Maarten Luyts</h4>
        <ul>
          <li>Labos in Module 2</li>
          <li>Theorie in Module 1</li>
          <li>maarten.luyts@ap.be</li>
        </ul>
      </div>
    </div>
    <img src="img/brodown.gif" alt="">
    <h4>Heb je vraag? Stuur een email naar ons beide</h4>
  </div>
</section>
<section>
  <h2>Voorlopige Planning</h2>
  <table class="tableizer-table">
<thead><tr><th>Week</th><th>Theorie</th><th>&nbsp;</th><th>Labo</th><th>&nbsp;</th><th>&nbsp;</th></tr>
 <tr><th>&nbsp;</th><th>Wie</th><th>Wat</th><th>Wie</th><th>Wat</th><th>Deadline studenten</th></tr></thead><tbody>
 <tr><td>M1W1</td><td>MALU</td><td>Introductie</td><td>GVH</td><td>Kennismaking Kit, Beginner Tutorials, DUT</td><td>M1W3</td></tr>
 <tr><td>M1W2</td><td>MALU</td><td>Algemene IO operaties + Interrupts</td><td>GVH</td><td>Basis combinatie opdracht  (gebruik verschillende componten) </td><td>M1W4</td></tr>
 <tr><td>M1W3</td><td>MALU</td><td>Serïele communicatie</td><td>GVH</td><td>Werken met een ATtiny </td><td>M1W5</td></tr>
 <tr><td>M1W4</td><td>MALU</td><td>C/C++ Fundementals + Libraries maken</td><td>GVH</td><td>Seriële communicatie met een ATtiny </td><td>M1W6</td></tr>
 <tr><td>M1W5</td><td>MALU</td><td>Bit Operaties + Intro IO operaties (ADC)</td><td>GVH</td><td>Mini Project: Maken van menu LCD met Rotary Encoder (individueel)</td><td>M1EX1</td></tr>
 <tr><td>M1W6</td><td>MALU</td><td>IO Operaties</td><td>GVH</td><td>Basis IO Operaties met registers #1</td><td>M1EX1</td></tr>
 <tr><td>M1EX1</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Vaardigheidstoets + Tonen werking Mini Project</td><td>M1EX1</td></tr>
</tbody></table>
</section>
<section>
  <h2>Voorlopige Planning</h2>
  <table class="tableizer-table">
<thead><tr><th>Week</th><th>Theorie</th><th>&nbsp;</th><th>Labo</th><th>&nbsp;</th><th>&nbsp;</th></tr>
 <tr><th>&nbsp;</th><th>Wie</th><th>Wat</th><th>Wie</th><th>Wat</th><th>Deadline studenten</th></tr></thead><tbody>
 <tr><td>M2W1</td><td>GVH</td><td>Interrupts</td><td>MALU</td><td>Basis IO Operaties met registers #2</td><td>M2W3</td></tr>
 <tr><td>M2W2</td><td>GVH</td><td>Interrupts</td><td>MALU</td><td>Interrupts #1</td><td>M2W4</td></tr>
 <tr><td>M2W3</td><td>GVH</td><td>TImers</td><td>MALU</td><td>Interrupts #2</td><td>M2W5</td></tr>
 <tr><td>M2W4</td><td>GVH</td><td>TImers</td><td>MALU</td><td>TImers #1</td><td>M2W6</td></tr>
 <tr><td>M2W5</td><td>GVH</td><td>Seriële communicatie</td><td>MALU</td><td>TImers #2</td><td>M2W7</td></tr>
 <tr><td>M2W6</td><td>GVH</td><td>Power Managment</td><td>MALU</td><td>Seriële communicatie</td><td>M2W7</td></tr>
 <tr><td>M2W7</td><td>GVH</td><td>Reserveles</td><td>MALU</td><td>Mini Test</td><td>&nbsp;</td></tr>
 <tr><td>M2EX1</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
 <tr><td>M2EX2</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
 <tr><td>M2EX3</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td></td></tr>
</tbody></table>
</section>
<section>
  H<h2>Evaluatievorm</h2>
  <table>
    <tr>
      <td>Kennistoets</td>
      <td>30%</td>
      <td>Digitaal examen</td>
    </tr>
    <tr>
      <td>Vaardigheidsexamen</td>
      <td>50%</td>
      <td>Mondeling praktisch examen</td>
    </tr>
    <tr>
      <td>Vaardigheidstoets</td>
      <td>20%</td>
      <td>2 Testmomenten doorheen het jaar.</td>
    </tr>
  </table>
</section>
<section>
  <h2>Regels</h2>
  <ul>
    <li>Optijd komen</li>
    <ul>
      <li>Bent u te laat, dan moet je inkom betalen</li>
      <li>Betalen doe je door het opkuisen van het labo</li>
      <li>Lees: the job  of your life</li>
    </ul>
    <li>Geen eten, alleen drinken in een sluitbare container</li>
    <li>U komt niet in de kasten in het labolokaal</li>
    <li>Werk in rust</li>
    <li>Vaste werkplek in het labo</li>
    <li>Heb respect voor het materiaal</li>
    <li>Ruim op na het labo</li>
  </ul>
</section>
<section>
  <h2>Getting started met Arduino</h2>
  <ul>
    <h4><li>Hoe maak ik een schakeling?</li></h4>
    <h4><li>Programmeeromgeving ?</li></h4>
    <h4><li>Hoe krijgen we onze code op de Arduino ?</li></h4>
    <h4><li>Basisoefening ?</li></h4>
  </ul>
</section>
<section>
  <h4>Hoe maak ik een schakeling ?</h2>
  <h2 class="fragment">Eerst moeten we weten wat de pinnen van een Arduino doen</h1>
  <h4 class="fragment">We kunnen dit opzoeken in de datasheet</h4>
  <h4 class="fragment">Hierin staan de pinnen van de ATMega328P niet die van de Arduino. Er is wel een mapping</h4>
  <h4 class="fragment">We vinden dit terug in een pinout diagramma</h4>
</section>
<section data-background-image="img/arduino_nano_pinout.png" data-background-size="contain" data-background-color="#ffffff">
</section>
<section data-background-image="img/atmega328p-au-pinout.png" data-background-size="contain" data-background-color="#ffffff">
</section>
<section data-background-image="img/atmega328p-pu-pinout.png" data-background-size="contain" data-background-color="#ffffff">
</section>
<section>
  <h1>Pinout Takeaway</h1>
  <h2>De Arduino pinnen zijn gemapt op de pinnen van de microcontroller</h2>
  <h2>Specifieke functionaliteit van de microcontroller zijn gemapt op specifieke pinnen </h2>
  <h4 class="fragment">D0 en D1 zijn RX en TX Pinnen --> Communicatie met PC</h4>
  <h4 class="fragment">D2 en D3 zijn interrupt pinnen --> Zie later</h4>
  <h4 class="fragment">D3,D5,D6,D9,D10,D11 zijn PWM pinnen --> AnalogWrite</h4>
</section>
<section>
  <h2>IO Pinnen</h2>
  <ul>
    <li>Literatuur: General Purpose In/Out (GPIO)</li>
    <li>Doorverbinding van de pinnen van de ATmega328P</li>
    <li>2 Onderverdelingen</li>
    <ul>
      <li>Digitaal (0 - 1)</li>
      <li>Analoog (0 - 1023)</li>
    </ul>
    <li>Pinnen kunnen vasthangen aan specifieke functionaliteit</li>
    <li>Er gelden stroom limieten voor de pinnen</li>
  </ul>
</section>
<section>
  <h2>Digitale IO Pinnen</h2>
  <ul>
    <li>Sturen een logisch signaal</li>
    <ul>
      <li>HIGH (5v)</li>
      <li>LOW (0v)</li>
    </ul>
    <li>2 richtingen</li>
  </ul>
  <img src="img/ttl_levels.png" style="float: right; width: 40%;" alt="">
</section>
<section>
  <h2>Analoge IO Pinnen</h2>
  <ul>
    <li>Kan spanningen uitlezen</li>
    <ul>
      <li>Zet deze spanning om naar een discrete waarde</li>
      <li>Mapping van 0v tot 5v naar een waarde van 0 tot 1023
    </ul>
    <li>Kan een "spanning schrijven"</li>
    <ul>
      <li>Een digitale waarde omzetten in fysisch signaal</li>
      <li>Mapping van de waarde 0 tot 255 naar een signaal van 0v tot 5v</li>
    </ul>
    <li>Kan dubbel gebruikt worden als een digitale pin</li>
  </ul>
</section>
<section>
  <h2>Arduino Programmeer omgeving</h2>
  <ul>
    <li>Arduino IDE installeren</li>
    <li>Example openen</li>
    <li>Code uploaden</li>
  </ul>
</section>
<section>
  <h2>Arduino: IDE</h2>
  <img src="img/arduino_ide.png" style="height: 100%;"></img>
</section>
<section>
  <h2>Arduino: IDE</h2>
  <div style="float:left; "></div>
  <ol style="width: 45%;">
    <li>Verify:</br>
      Compileert de code met avr-gcc</li>
    <li>Upload:</br>
      Compileert de code met avr-gcc en</br>
      upload de code met avrdude</li>
    <li>New</li>
    <li>Open</li>
    <li>Save</li>
  </ol>
  <div style="float:right; width: 45%;">
    <img src="img/arduino_ide_numbered.png" alt="">
  </div>
</section>
<section>
  <h2>Arduino: IDE</h2>
  <div style="float:left; "></div>
  <ol start=6" style="width: 45%;">
    <li>Serial Monitor</li>
    <li>Filename</li>
    <li>Sketch</li>
    <li>Statusbar</li>
    <li>Build output</li>
    <li>Board settings</li>
  </ol>
  <div style="float:right; width: 45%;">
    <img src="img/arduino_ide_numbered.png" alt="">
  </div>
</section>

<section>
  <h2>Arduino: IDE</h2>
  <ul>
    <li>Aan te raden instellingen</li>
    <ul>
      <li>Display line numbers</li>
      <li>Code folding</li>
    </ul>
  </ul>
  <img src="img/ide_preferences.png" style="float: right; width: 35%;"></img>
</section>
<section>
  <h2>Sketches</h2>
  <ul>
    <li>Sketches = Arduino programma's</li>
    <li>Examples sketches beschikbaar in de Arduino IDE</li>
    <li>.ino extensie</li>
    <li>2 grote componenten</li>
    <ul>
      <li><pre><code class="cpp" style="display: inline;">void setup();</code></pre></li>
        <li><pre><code class="cpp" style="display: inline;">void loop();</code></pre></li>
    </ul>
    <li><a href="https://www.arduino.cc/en/tutorial/sketch">Documentatie</a></li>
  </ul>
</section>
<section>
  <h2>Blink Sketch</h2>
  <pre><code class="cpp">
  void setup() {
  pinMode(LED_BUILTIN, OUTPUT);


  void loop() {
    digitalWrite(LED_BUILTIN, HIGH);   // turn the LED on (HIGH is the voltage level)
    delay(1000);                       // wait for a second
    digitalWrite(LED_BUILTIN, LOW);    // turn the LED off by making the voltage LOW
    delay(1000);                       // wait for a second
  }
  </code></pre>
</section>
<section>
  <h2>Sketches</h2>
  <table>
    <tr>
      <b>
        <td>void setup()</td>
        <td>void loop()</td>
      </b>
    </tr>
    <tr>
      <td>Loopt 1 maal</td>
      <td>Eindeloze loop</td>
    </tr>
    <tr>
      <td>Initiële setup</td>
      <td>Logica</td>
    </tr>
  </table>
</section>
<section>
  <h2>Arduino: Documentatie</h2>
  <img class="plain" src="img/arduino_reference.png" alt=""></br>
  <a href="https://www.arduino.cc/en/Reference/HomePage">Arduino Reference</a>
</section>
<section>
  <h2>Code Uploaden</h2>
  <ul>
    <li>Example sketch openen</br>
      <i><b>File > Examples > 01. Basic > Blink</i></b></li>
    <li>COM Poort selecteren</br>
      <i><b>Tools > Port > COMX</i></b></li>
    <li>Board selecteren</br> <i><b>Tools > Board > Arduino Nano / Duemilanove / Uno</i></b></li>
  </ul>
</section>
<section>
  <h2>Getting Started: Programmatie</h2>
  <div class="vcontainer">
    <img class="plain fragment" src="img/simple_compile.png" alt="">
    <img class="plain fragment" src="img/code_to_arduino_how.png" alt="">
    <img class="plain fragment" src="img/code_to_arduino_programmer.png" alt="">
    <img class="plain fragment" src="img/code_to_arduino_bootloader.png" alt="">
  </div>
</section>
<section>
  <h2>Programmer</h2>
  <div class="hcontainer">
    <ul style="float:left; width: 65%;">
      <h4 class="fragment"><li>Extern toestel data schrijft op het geheugen van de microcontroller</li></h4>
      <h4 class="fragment"><li>Dit is omslachtig</li></h4>
      <ul>
        <h4 class="fragment"><li>Extra hardware</li></h4>
        <h4 class="fragment"><li>Compatibiliteit</li></h4>
      </ul>
      <h4 class="fragment"><li>Wordt nog gebruikt voor productie</li></h4>
      <h4 class="fragment"><li>Voor ontwikkeling: Bootloader</li></h4>
      <h4 class="fragment"><li>Arduino as ISP</li></h4>
    </ul>
    <div class="vcontainer">
      <img class="plain fragment" src="img/sam-ice.png" style=" width: 600px; background: none;" alt="">
      <img class="plain fragment" src="img/arduino_nano_isp_attiny_bb.png" style=" width: 600px; background: none;" alt="">
    </div>
  </div>
</section>
<section>
  <h2>Bootloader</h2>
  <ul class="fragment">
    <li>Hetzelfde concept als de bootloader van een computer</li>
    <ul>
      <li>Vertelt CPU waar het operating systeem staat</li>
      <li>Ook mogelijk om het "OS" te overschrijven</li>
    </ul>
    <li class="fragment">Werking Arduino Nano</li>
    <ul>
      <li class="fragment">Data wordt verstuurt vanuit PC</li>
      <li class="fragment">ATmega8u2 zet data om van USB naar UART</li>
      <li class="fragment">ATmega8u2 reset ATmega328p
        <li class="fragment">ATmega8u2 stuurt data door naar ATmega328p</li>
        <li class="fragment">ATmega328p detecteert data op de UART binnen een tijds interval na reset</li>
        <li class="fragment">Bootloader op ATmega kopieert data naar het flash geheugen</li>
        <li class="fragment">Tijdsinterval afgelopen, ATmega328p boot met bestaande code</li>
    </ul>
  </ul>
</section>

<section>
<h2>Basis IO Operaties</h2>
<ul>
  <li>pinMode</li>
  <li>DigitalRead</li>
  <li>DigitalWrite</li>
  <li>analogRead</li>
  <li>analogWrite</li>
</ul>
</section>
<section>
  <h2>PinMode</h2>
<div class="hcontainer">
  <pre style="width: 50%;"><code class="cpp">
void setup() {
pinMode(LED_BUILTIN, OUTPUT); 
pinMode(POTPIN, INPUT);
pinMode(BTNPIN, INPUT_PULLUP);


void loop() {
  //doSomething
}
  </code></pre>
<ul>
  <li>Een pin kan 3 states aannemen</li>
  <li>OUTPUT: schrijven naar de pin</li>
  <li>INPUT: lezen van de pin</li>
  <li>INPUT_PULLUP: INPUT + voorgeschakelde weerstand</li>
  <li>Dezelfde functie voor de analoge en digitale pinnen</li>
  <li>Meer info: <a href="https://www.arduino.cc/en/Reference/PinMode">klik hier</a></li>
</ul>

</div>


</section>
<section>
<h2>DigitalWrite</h2>
  <div class="hcontainer">
  <pre style="width: 50%;"><code class="cpp">
void setup() {
pinMode(LED_BUILTIN, OUTPUT);


void loop() {
  digitalWrite(LED_BUILTIN, HIGH);
  delay(1000);
  digitalWrite(LED_BUILTIN, LOW);
  delay(1000);
}
    </code></pre>

    <ul>
      <li>Schrijven van constante waarde</li>
      <ul>
        <li>Hoog (5V)</li>
        <li>Laag (0V)</li>
      </ul>
      <li>Gebruik: Aansturen LED, Signaal geven aan IC(Motorsturing)</li>
      <li>Meer info: <a href="https://www.arduino.cc/en/Reference/DigitalWrite">klik hier</a></li>
    </ul>

  </div>
</section>
<section>
  <h2>DigitalRead</h2>
<div class="hcontainer">
  <pre style="width: 50%;"><code class="cpp">
void setup() {
  pinMode(pushButton, INPUT);
  pinMode(LED_BUILTIN, OUTPUT);
}

void loop() {
  // read the input pin:
  int buttonState = digitalRead(pushButton);
  digitalWrite(LED_BUILTIN, buttonState);
}
  </code></pre>
<ul class="blist">
  <li>Uitlezen van een pin</li>
  <li>Specifieke treshold (TLL niveaus) voor de omzetting naar een constante waarde</li>
  <ul>
    <li>High (1)</li>
    <li>Low (0)</li>
  </ul>
  <li>Gebruik: Uitlezen drukknop</li>
  <li>Meer info: <a href="https://www.arduino.cc/en/Reference/DigitalRead">klik hier</a></li>
</ul>

</div>
</section>
<section>
<h2>AnalogWrite</h2>
  <div class="hcontainer">
  <pre style="width: 50%;"><code class="cpp">
void setup() {
  pinMode(ledPin, OUTPUT);
}

void loop() {
  for (int fadeValue = 0 ; fadeValue <= 255; fadeValue += 5) {
    analogWrite(ledPin, fadeValue);
    delay(30);
  }

  for (int fadeValue = 255 ; fadeValue >= 0; fadeValue -= 5) {
    analogWrite(ledPin, fadeValue);
    delay(30);
  }
}
    </code></pre>

    <ul>
      <li>Schrijven van een voltage naar een pin</li>
      <ul>
        <li>max 255 - 5V</li>
        <li>min 0 - 0V</li>
      </ul>
      <li>PWM</li>
      <li>Gebruik: Precies aansturen LED, Precies signaal geven aan IC(Motorsturing)</li>
      <li>Meer info: <a href="https://www.arduino.cc/en/Reference/DigitalWrite">klik hier</a></li>
    </ul>
  </div>
</section>
<section>
  <h2>AnalogRead</h2>
<div class="hcontainer">
  <pre style="width: 50%;"><code class="cpp">
void setup() {
  Serial.begin(9600);
}

void loop() {
  int sensorValue = analogRead(A0);
  Serial.println(sensorValue);
  delay(1); 
}
  </code></pre>
<ul class="blist">
  <li>Uitlezen van een variabel voltage signaal</li>
  <ul>
    <li>max 255 - 5V</li>
    <li>min 0 - 0V</li>
  </ul>
  <li>Gebruik: Uitlezen van een potentiometer, Uitlezen van een NTC, Uitlezen van sensorsignaal</li>
</ul>
</div>
</section>
<section>
  <h2>Oefeningen</h2>
  <ul>
    <li>Aansturen van LED (met en zonder PWM)</li>
    <li>Uitlezen van PWM Signaal en Potentiometer</li
    <li>Uitlezen van een drukknop</li>
  </ul>
</section>
<section>
  <h2>Projecten Smart Systems</h2>
  <div class="hcontainer">
    <iframe width="560" height="315" src="https://www.youtube.com/embed/1gnMKxrYpxY" frameborder="0" allowfullscreen></iframe>
    <iframe width="560" height="315" src="https://www.youtube.com/embed/1_BVs75HP7o" frameborder="0" allowfullscreen></iframe>
  </div>
</section>
<section>
  <h2>Arduino Summer School @ St Polten</h2>
  <iframe width="560" height="315" src="https://www.youtube.com/embed/5qGG8x_Zeu0" frameborder="0" allowfullscreen></iframe>
</section>
<section>
  <h2>IoT Projecten</h2>
  <div class="hcontainer">
    <div style="width: 40%;" class="vcontainer">
      <h5>Zordon</h5>
      <img src="./img/zordon.png" alt="">
    </div>
    <div style="width: 40%;" class="vcontainer">
      <h5>Smart buildings</h5>
      <img src="./img/smart_buildings.png" alt="">
    </div>
  </div>
</section>
